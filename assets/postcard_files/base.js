var base=base||{};base.img_host="http://tpcdn2.itianpin.com/",base.doActivityRegister=function(context,data,event){this.doPost("/api/account/activity_register",context,data,event)},base.doSendSms=function(context,data,event){this.doPost("/api/account/activity_register/send_sms",context,data,event)},base.doVerifySms=function(context,data,event){this.doPost("/api/account/activity_register/verify_sms",context,data,event)},base.doExists=function(context,data,event){this.doGet("/api/account/username/exists",context,data,event)},base.doGet=function(url,context,data,event){$.ajax({url:url,type:"GET",dataType:"json",timeout:5e3,data:data,context:this,beforeSend:function(){},success:function(data){this.success(context,event,data)}})},base.doPost=function(url,context,data,event){$.ajax({url:url,type:"POST",dataType:"json",timeout:5e3,data:data,context:this,beforeSend:function(){},success:function(data){this.success(context,event,data)}})},base.before=function(context,event,data){"function"==typeof context?context(data):context.trigger(event,data)},base.success=function(context,event,data){"function"==typeof context?context(data):context.trigger(event,data)},base.error=function(XMLHttpRequest,textStatus){try{console.log(textStatus)}catch(e){}};var UA=window.navigator.userAgent,CLICK="";/Trident|trident|TRIDENT|MSIE/.test(UA)&&$("#ie").show(),/ipad|iphone|iPhone|android/.test(UA)?(window.MobileDevice=!0,window.CLICK="tap"):window.CLICK="click",function($){$.fn.picLazyLoad=function(settings){function lazyLoadPic(){$this.each(function(){var $self=$(this);if($self.is("img")){if($self.attr("data-original")){var _offsetTop=$self.offset().top;_offsetTop-settings.threshold<=_winHeight+_winScrollTop&&($self.attr("src",$self.attr("data-original")),$self.removeAttr("data-original"))}}else if($self.attr("data-original")){"none"==$self.css("background-image")&&$self.css("background-image","url("+settings.placeholder+")");var _offsetTop=$self.offset().top;_offsetTop-settings.threshold<=_winHeight+_winScrollTop&&($self.css("background-image","url("+$self.attr("data-original")+")"),$self.removeAttr("data-original"))}})}var $this=$(this),_winScrollTop=0,_winHeight=$(window).height();settings=$.extend({threshold:0,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"},settings||{}),lazyLoadPic(),$(window).on("scroll",function(){_winScrollTop=$(window).scrollTop(),lazyLoadPic()})}}(Zepto);