// Generated by CoffeeScript 1.9.3
(function() {
  module.exports = function(req, res, next) {
    var user_id;
    if (!res.locals.card) {
      return next();
    } else {
      user_id = res.locals.card.user_id;
      return (__F('question')).count({
        user_id: user_id
      }, function(error, count) {
        res.locals.his_questions_count = count;
        return (__F('question')).getAll(1, 10, {
          user_id: user_id
        }, null, function(error, questions) {
          res.locals.his_questions = questions;
          return next();
        });
      });
    }
  };

}).call(this);
