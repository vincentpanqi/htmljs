// Generated by CoffeeScript 1.9.3
(function() {
  module.exports = function(req, res, next) {
    return (__F('column')).count(["is_publish = 1 and user_id = ?", res.locals.user.id], function(error, count) {
      res.locals.private_columns_count = count;
      return (__F('column')).getAll(1, 100, ["is_publish = 1 and user_id = ? or is_public = 1", res.locals.user.id], null, null, function(error, columns) {
        res.locals.columns = columns;
        return next();
      });
    });
  };

}).call(this);
